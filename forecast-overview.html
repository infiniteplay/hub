<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>SKU Trends Dashboard</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.9.1/chart.min.js"></script>
</head>
<body class="bg-gray-50 font-sans">

  <!-- Sticky Header -->
  <header class="fixed top-0 left-0 right-0 bg-white border-b border-gray-200 shadow z-50">
    <div class="max-w-7xl mx-auto px-4 py-4 flex justify-between items-center">

      <!-- Logo + Hub Title -->
      <div class="flex items-center space-x-3">
        <img src="finifi-logo.png" alt="Finifi Logo" style="height: 24px;">
        <span class="text-xl font-semibold text-black">Dashboard Hub</span>
      </div>

      <!-- Action Buttons -->
      <div class="flex space-x-3">
        <button onclick="window.location.href='index.html'" 
                class="px-4 py-2 bg-gray-100 border border-gray-300 rounded-md hover:bg-blue-600 hover:text-white transition">
          Go Back
        </button>
        <button onclick="location.reload()" 
                class="px-4 py-2 bg-gray-100 border border-gray-300 rounded-md hover:bg-blue-600 hover:text-white transition">
          Refresh
        </button>
        <button onclick="exportDashboard()" 
                class="px-4 py-2 bg-gray-100 border border-gray-300 rounded-md hover:bg-blue-600 hover:text-white transition">
          Export
        </button>
      </div>
    </div>
  </header>

  <!-- Main Content -->
  <main class="max-w-7xl mx-auto px-4 pt-24 pb-8">
    
    <!-- Page Title -->
    <h1 class="text-2xl font-bold text-gray-800 mb-6">SKU Trends Across Channels</h1>

    <!-- Filters -->
    <section class="grid grid-cols-1 md:grid-cols-4 gap-4 mb-6">
      <div class="bg-white p-4 rounded-lg shadow">
        <h3 class="text-sm text-gray-500">Select Channel</h3>
        <select class="mt-2 w-full border-gray-300 rounded-md">
          <option>All Channels</option>
          <option>DMart</option>
          <option>Blinkit</option>
          <option>BigBasket</option>
          <option>Amazon Fresh</option>
        </select>
      </div>
      <div class="bg-white p-4 rounded-lg shadow">
        <h3 class="text-sm text-gray-500">Category</h3>
        <select class="mt-2 w-full border-gray-300 rounded-md">
          <option>All Categories</option>
          <option>Staples</option>
          <option>Oils & Ghee</option>
          <option>Beverages</option>
          <option>Snacks</option>
        </select>
      </div>
      <div class="bg-white p-4 rounded-lg shadow">
        <h3 class="text-sm text-gray-500">Timeframe</h3>
        <select class="mt-2 w-full border-gray-300 rounded-md">
          <option>Last 3 Months</option>
          <option>Last 6 Months</option>
          <option>Year to Date</option>
        </select>
      </div>
      <div class="bg-white p-4 rounded-lg shadow flex items-end">
        <button class="w-full bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700">
          Apply Filters
        </button>
      </div>
    </section>

    <!-- KPIs -->
    <section class="grid grid-cols-1 md:grid-cols-4 gap-4 mb-6">
      <div class="bg-white p-6 rounded-lg shadow">
        <h3 class="text-sm text-gray-500">Top Channel</h3>
        <p class="text-2xl font-bold text-gray-800">DMart</p>
        <p class="text-xs text-green-600">42% of total sales</p>
      </div>
      <div class="bg-white p-6 rounded-lg shadow">
        <h3 class="text-sm text-gray-500">Fastest Growing Category</h3>
        <p class="text-2xl font-bold text-gray-800">Snacks</p>
        <p class="text-xs text-green-600">+15.8% growth</p>
      </div>
      <div class="bg-white p-6 rounded-lg shadow">
        <h3 class="text-sm text-gray-500">Total SKUs</h3>
        <p class="text-2xl font-bold text-gray-800">1,245</p>
        <p class="text-xs text-blue-600">Active across channels</p>
      </div>
      <div class="bg-white p-6 rounded-lg shadow">
        <h3 class="text-sm text-gray-500">Avg Fill Rate</h3>
        <p class="text-2xl font-bold text-gray-800">93.4%</p>
        <p class="text-xs text-green-600">â†‘ +3.2% vs last quarter</p>
      </div>
    </section>

    <!-- Charts -->
    <section class="grid grid-cols-1 lg:grid-cols-3 gap-6 mb-6">
      <!-- SKU Trend by Channel -->
      <div class="lg:col-span-2 bg-white p-6 rounded-lg shadow">
        <h3 class="text-lg font-semibold text-gray-700 mb-4">SKU Trends by Channel</h3>
        <div class="h-80">
          <canvas id="skuTrendChart"></canvas>
        </div>
      </div>
      <!-- Category Mix -->
      <div class="bg-white p-6 rounded-lg shadow">
        <h3 class="text-lg font-semibold text-gray-700 mb-4">Category Mix Across Channels</h3>
        <div class="h-80">
          <canvas id="categoryMixChart"></canvas>
        </div>
      </div>
    </section>

    <!-- Top SKUs -->
    <section class="bg-white p-6 rounded-lg shadow mb-6">
      <h3 class="text-lg font-semibold text-gray-700 mb-4">Top 5 SKUs Performance</h3>
      <div class="h-80">
        <canvas id="topSkusChart"></canvas>
      </div>
    </section>

    <!-- SKU Performance Table -->
    <section class="bg-white p-6 rounded-lg shadow">
      <h3 class="text-lg font-semibold text-gray-700 mb-4">SKU Performance by Channel</h3>
      <div class="overflow-x-auto">
        <table class="min-w-full text-sm">
          <thead class="bg-gray-100 text-gray-600 uppercase text-xs">
            <tr>
              <th class="px-4 py-2 text-left">SKU</th>
              <th class="px-4 py-2 text-left">Channel</th>
              <th class="px-4 py-2 text-left">Category</th>
              <th class="px-4 py-2 text-left">Units Sold</th>
              <th class="px-4 py-2 text-left">Fill Rate</th>
              <th class="px-4 py-2 text-left">Growth %</th>
            </tr>
          </thead>
          <tbody class="divide-y divide-gray-200">
            <tr>
              <td class="px-4 py-2">Premium Rice 5kg</td>
              <td class="px-4 py-2">DMart</td>
              <td class="px-4 py-2">Staples</td>
              <td class="px-4 py-2">42,300</td>
              <td class="px-4 py-2 text-green-600">95%</td>
              <td class="px-4 py-2 text-green-600">+8.2%</td>
            </tr>
            <tr>
              <td class="px-4 py-2">Cooking Oil 1L</td>
              <td class="px-4 py-2">Blinkit</td>
              <td class="px-4 py-2">Oils & Ghee</td>
              <td class="px-4 py-2">28,900</td>
              <td class="px-4 py-2 text-yellow-600">85%</td>
              <td class="px-4 py-2 text-red-600">-4.6%</td>
            </tr>
            <tr>
              <td class="px-4 py-2">Organic Wheat Flour</td>
              <td class="px-4 py-2">BigBasket</td>
              <td class="px-4 py-2">Staples</td>
              <td class="px-4 py-2">36,200</td>
              <td class="px-4 py-2 text-green-600">92%</td>
              <td class="px-4 py-2 text-green-600">+6.4%</td>
            </tr>
          </tbody>
        </table>
      </div>
    </section>
  </main>

  <!-- Scripts -->
  <script>
    function exportDashboard() {
      alert("Export functionality coming soon!");
    }

    document.addEventListener('DOMContentLoaded', function() {
      initializeCharts();
    });

    function initializeCharts() {
      // SKU Trends by Channel
      const skuCtx = document.getElementById('skuTrendChart').getContext('2d');
      new Chart(skuCtx, {
        type: 'line',
        data: {
          labels: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun'],
          datasets: [
            { label: 'DMart', data: [4200, 4600, 4800, 5000, 5200, 5400], borderColor: '#3b82f6', backgroundColor: 'rgba(59,130,246,0.1)', tension: 0.4, fill: true },
            { label: 'Blinkit', data: [2200, 2400, 2600, 2800, 3000, 3100], borderColor: '#f59e0b', backgroundColor: 'rgba(245,158,11,0.1)', tension: 0.4, fill: true },
            { label: 'BigBasket', data: [3100, 3300, 3500, 3700, 4000, 4200], borderColor: '#10b981', backgroundColor: 'rgba(16,185,129,0.1)', tension: 0.4, fill: true }
          ]
        },
        options: { responsive: true, maintainAspectRatio: false }
      });

      // Category Mix
      const categoryCtx = document.getElementById('categoryMixChart').getContext('2d');
      new Chart(categoryCtx,
